---
title: 计算机组成原理
date: 2020-05-15 20:04:35
tags: 计算机基础
categories: 学习笔记
---

计算机组成学习笔记

<!---more--->

## 计算机系统概述

基本组成: 运算器+控制器=CPU  CPU+主存储器=主机  I/O设备又称为外部设备

**存储器**

`1B=8bit`.在32位系统中,1字=4字节

**运算器**

**控制器**

通常一条指令分为取指阶段和执行阶段

**输入设备**

**输出设备**

现代计算机组织结构逐步转化为以存储器为中心

## 数据的表示和运算

### 数制和编译

二进制.八进制.十进制.十六进制

BCD码:8421码.余3码.2421码

校验码:奇偶校验码.循环冗余校验码(最广泛).海明码

### 定点数的表示和运算

原码.补码.反码

### 浮点数的表示和运算

IEEE 754标准

尾数为纯小数,常用原码或补码表示,阶码为顶点整数,常用补码或移码表示

### 算术逻辑单元

加法器

组合逻辑电路和时序逻辑电路

## 存储器层次结构

### 存储器的基本概念

主存储器.高速缓冲存储器(Cache).辅助存储器

随机存取存储器.只读存储器.顺序存取存储器.直接存取存储器

### 存储器的层次化结构

寄存器.缓存.主存.磁盘.光盘.磁带.

CPU.缓存.主存.辅存

### 半导体随机存取存储器

先选法(单译码).重合法(双译码)

SRAM存储器  保持存储信息.读数据.写数据

DRAM存储器  

只读存储器

flash存储器

### 主存储器与CPU的连接

### 双口RAM和多模块存储器

### 高速缓冲存储器(Cache)

### 虚拟存储器

### 外存储器

## 指令系统

一条指令的结构: `|操作码|地址码|`

寻址方式: 数据寻址.指令寻址

数据寻址方式: 立即寻址.直接寻址.隐含寻址.间接寻址.寄存器寻址.寄存器间接寻址

基址寻址.变址寻址.相对寻址

CISC和RISC的基本概念

## 中央处理器

### CPU的功能和基本结构

CPU=运算器+控制器

运算器:对数据进行加工

控制器:负责协调并控制计算机各部件执行程序的指令序列,包括取指令,分析指令和执行指令,控制器还必须能控制程序的输入和运算结果的输出以及对总线的管理,甚至能处理机器运行过程中出现的异常情况和特殊请求.

CPU功能总结:指令控制,操作控制,时间控制,数据加工,中断处理

CPU的基本结构:

指令控制,操作控制,时间控制有控制单元完成.

数据加工由ALU完成.中断处理由中断系统完成,最后再加上一些寄存器,CPU完成.

寄存器特点:小.快.贵

CPU中的主要寄存器:运算器中的寄存器和控制器中的寄存器

### 指令执行过程

CPU每取出并执行一条指令所需的全部时间,即CPU完成一条指令的时间,称为指令周期

指令周期划分为机器周期(又称为CPU工作周期或基本周期),通常等于取指时间(或访问时间).**时钟周期**是时钟频率的倒数,也可称为节拍脉冲或T周期,是处理器操作的**最基本的单位**.

指令执行方案:

单指令周期:对所有指令都选用相同的执行时间来完成.

多指令周期:对不同类型的指令选用不同的执行步骤来完成.

流水线方案:指令之间可以并行执行的方案

### 数据通路的功能和基本结构

功能:实现CPU内部的运算器和寄存器以及寄存器之间的数据交换

基本结构:CPU内部总线方式.专用数据通路方式

常见数据通路的数据传送:寄存器之间的数据传送.主存与CPU之间的数据传送.执行算术或逻辑运算

### 控制器的功能和工作原理

### 指令流水线

一条指令的执行需要经过3个阶段:取指令,译码,执行

当第1条指令译码时对第2调指令取指,对第2条执行时对第3条译码......即指令流水线思想

要使得流水线具有良好得性能,必须使流水线畅通流动,不发生断流.但由于流水过程中会出现3种相关冲突,实现流水线不断流是苦难得,3种相关是资源相关(结构相关).数据相关.控制相关

超标量技术:每个时间周期不像以前得普通指令流水线只能执行一条指令的某个阶段,而是可以并发执行多条独立指令,为此就需要配置多个功能部件

超级流水线:将机器指令划分为更多级的操作,以减轻每一级的复杂程度.

超长指令字:由编译程序挖掘出指令潜在的并行性,将多条能并行操作的指令组合成一条具有多个操作码字段的操长指令字,为此需要采用多个处理部件

动态流水线:多种运算可以同时进行

### 中断系统

## 总线

### 总线概述

总线是连接多个部件的信息传输线,是各部件共享的传输介质,采用总线结构,增减外部设备变得非常轻松

特点:

* 分时是指同一时刻只允许有一个部件向总线发送信息,如果系统中有部件,则他们只能分时地向总线发送信息

* 共享是指总线上可以挂载多个部件,各个部件之间互相交换的信息都可以通过这组线路分时共享,同一时刻只允许有一个部件向总线发送信息,但多个部件可以同时从总线上接收信息

分类:

* 按数据传送方式:并行传输总线,串行传输总线

* 按总线使用范围:计算机总线,测控总线

* 按连接部件不同:片内总线,系统总线,通信总线

总线的组成:通常由一组控制线,一组数据线和一组地址线组成.某些总线没有单独的地址线,地址信息也通过数据线来传送,这种情况称为数据线和地址线的复用

性能指标:

* 总线宽度:通常是指数据总线的根数,用位(bit)表示
* 总线带宽:单位时间内总线上传输数据的位数

总线的结构:

单总线结构:将CPU.主存.I/O设备都连接在一组总线上,允许I/O设备之间.I/O设备与CPU之间或I/O设备与主存之间直接交换信息

双总线结构:将速度较低的I/O设备从单总线中分离出来,形成主存总线与I/O总线分开的结构

### 总线仲裁

解决同一时刻有多个主设备同时竞争主线控制权的问题

集中仲裁方式:总线上所有连接的各类设备,按其对总线有无控制功能可分为主设备和从设备

分布仲裁方式:分布仲裁方式不需要中央处理器,每个主模板都有自己的仲裁号和仲裁器,多个仲裁器竞争使用总线

### 总线操作和定时

总线周期:申请分配阶段,寻址阶段,传送数据阶段,结束阶段

总线通信控制主要解决了通信双方如何获知传输开始和传输结束,以及通信双方如何协调和任何配合.

同步时间方式:指系统采用一个统一的时钟信号来协调发送和接收双方的传送定时关系

不管是输入还是输出,地址信号一定是全程陪伴

异步定时方式:没有公共的时钟标准,不要求所有部件严格地统一操作时间,而是采用应答地方式,即当主模块发出请求信号时,一直等待从模块反馈"响应"信号后才开始通信,这就要求主,从模块之间增加两条答应线.

异步通信地应答方式又可分位不互锁,半互锁和全互锁

不互锁方式:主模块的请求信号和从模块的回答信号没有互相制约关系

半互锁方式:主模块的请求信号和从模块的回答信号有简单的制约关系

全互锁方式:主模块的请求信号和从模块的回答信号有完全的制约关系

### 总线标准

系统总线标准和设备总线标准

## 输入/输出系统

### I/O系统基本概念

I/O系统主要由两部分组成:I/O软件和I/O硬件

I/O软件的主要功能:将用户编制的程序输入主机内,将运算结果输出给用户,实现输入/输出系统与主机工作的协调.对于采用接口模块方式,要使得I/O设备与主机协调工作,必须靠I/O指令来完成,对于采用通道管理方式.不仅需要I/O指令,还需要通道指令

### 外部设备

I/O设备分类:输入设备,输出设备,输入/输出设备

### I/O接口

功能:

* 选择设备功能

* 传送命令功能

* 传送给数据功能

* 反映I/O设备得工作状态

基本结构:

* 内部接口:与系统总线相连,实质上是与内存,CPU相连.数据的传输方式只能是并行传输
* 外部接口:通过接口电缆与外设相连,外部接口的数据传输可能是串行方式,因此I/O接口需要具有串/并转换功能

类型:

* 按照数据传送方式,I/O接口可以分为并行接口和串行接口,并行接口可以同时传送一个字节或一个字的所有位,串行接口只能一位一位地传送
* 按主机访问I/O设备的控制方式可以分为程序查询接口,中断接口和DMA接口
* 按功能选择的灵活性可分为可编程接口和不可编程接口

I/O端口:由CPU进行读或写的寄存器,分为数据端口,控制端口和状态端口,若干个端口加上相应的控制逻辑电路就组成了接口

I/O端口的编址:统一编址和不统一遍址

### I/O方式

程序查询方式

程序中断方式

DMA方式

**参考资料**

天勤计算机





